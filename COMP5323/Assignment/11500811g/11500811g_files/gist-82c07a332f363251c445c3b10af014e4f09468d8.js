/**
 * Rails Behaviors v0.1.2
 * https://github.com/josh/rails-behaviors
 *
 * Copyright 2011, Joshua Peek
 * Released under the MIT License
 */
function getParams(a,b){arguments.length<2&&(b=location.href);if(arguments.length>0&&a!=""){if(a=="#")var c=new RegExp("[#]([^$]*)");else if(a=="?")var c=new RegExp("[?]([^#$]*)");else var c=new RegExp("[?&]"+a+"=([^&#]*)");var d=c.exec(b);return d==null?"":d[1]}b=b.split("?");var d={};return b.length>1&&(b=b[1].split("#"),b.length>1&&(d.hash=b[1]),$.each(b[0].split("&"),function(a,b){b=b.split("="),d[b[0]]=b[1]})),d}((function(){$.ajaxSetup&&$.ajaxSetup({beforeSend:function(a,b){var c,d;if(!b.global)return;return c=b.context||document,d=$.Event("ajaxBeforeSend"),$(c).trigger(d,[a,b]),d.result}})})).call(this),function(){$(document).bind("ajaxBeforeSend",function(a,b,c){if(!c.dataType)return b.setRequestHeader("Accept","*/*;q=0.5, "+c.accepts.script)})}.call(this),function(){$(document).delegate("a[data-confirm]","click",function(a){var b;if(b=$(this).attr("data-confirm"))if(!confirm(b))return a.stopImmediatePropagation(),!1})}.call(this),function(){var a;$(document).bind("ajaxBeforeSend",function(a,b,c){var d;if(c.crossDomain)return;if(c.type==="GET")return;if(d=$('meta[name="csrf-token"]').attr("content"))return b.setRequestHeader("X-CSRF-Token",d)}),$(document).delegate("form","submit",function(b){var c,d,e,f;c=$(this);if(c.is("form[data-remote]"))return;if(c.attr("method").toUpperCase()==="GET")return;if(!a(c.attr("action")))return;e=$('meta[name="csrf-param"]').attr("content"),f=$('meta[name="csrf-token"]').attr("content"),e!=null&&f!=null&&(c.find("input[name="+e+"]")[0]||(d=document.createElement("input"),d.setAttribute("type","hidden"),d.setAttribute("name",e),d.setAttribute("value",f),c.prepend(d)))}),a=function(a){var b;return b=document.createElement("a"),b.href=a,location.protocol===b.protocol&&location.host===b.host}}.call(this),function(){$(document).delegate("form","submit",function(){var a,b,c,d,e,f,g,h,i;h=$(this).find("input[type=submit][data-disable-with]");for(d=0,f=h.length;d<f;d++)b=h[d],b=$(b),b.attr("data-enable-with",b.val()||"Submit"),(c=b.attr("data-disable-with"))&&b.val(c),b[0].disabled=!0;i=$(this).find("button[type=submit][data-disable-with]");for(e=0,g=i.length;e<g;e++)a=i[e],a=$(a),a.attr("data-enable-with",a.html()||""),(c=a.attr("data-disable-with"))&&a.html(c),a[0].disabled=!0}),$(document).delegate("form","ajaxComplete",function(){var a,b,c,d,e,f,g,h;g=$(this).find("input[type=submit][data-enable-with]");for(c=0,e=g.length;c<e;c++)b=g[c],$(b).val($(b).attr("data-enable-with")),b.disabled=!1;h=$(this).find("button[type=submit][data-enable-with]");for(d=0,f=h.length;d<f;d++)a=h[d],$(a).html($(a).attr("data-enable-with")),a.disabled=!1})}.call(this),function(){$(document).delegate("a[data-method]","click",function(a){var b,c,d,e;b=$(this);if(b.is("a[data-remote]"))return;e=b.attr("data-method").toLowerCase();if(e==="get")return;return c=document.createElement("form"),c.method="POST",c.action=b.attr("href"),c.style.display="none",e!=="post"&&(d=document.createElement("input"),d.setAttribute("type","hidden"),d.setAttribute("name","_method"),d.setAttribute("value",e),c.appendChild(d)),document.body.appendChild(c),$(c).submit(),a.preventDefault(),!1})}.call(this),function(){$(document).delegate("a[data-remote]","click",function(a){var b,c,d,e,f;c=$(this),d={},d.context=this;if(e=c.attr("data-method"))d.type=e;if(f=c.attr("href"))d.url=f;if(b=c.attr("data-type"))d.dataType=b;return $.ajax(d),a.preventDefault(),!1}),$(document).delegate("form[data-remote]","submit",function(a){var b,c,d,e,f,g;d=$(this),e={},e.context=this;if(f=d.attr("method"))e.type=f;if(g=d.attr("action"))e.url=g;if(b=d.serializeArray())e.data=b;if(c=d.attr("data-type"))e.dataType=c;return $.ajax(e),a.preventDefault(),!1})}.call(this),function(){var a;a="form[data-remote] input[type=submit],\nform[data-remote] button[type=submit],\nform[data-remote] button:not([type])",$(document).delegate(a,"click",function(){var a,b,c,d,e,f;e=$(this),b=e.closest("form"),c=b.find(".js-submit-button-value"),(d=e.attr("name"))?(a=e.is("input[type=submit]")?"Submit":"",f=e.val()||a,c[0]?(c.attr("name",d),c.attr("value",f)):(c=document.createElement("input"),c.setAttribute("type","hidden"),c.setAttribute("name",d),c.setAttribute("value",f),c.setAttribute("class","js-submit-button-value"),b.prepend(c))):c.remove()})}.call(this),function(){$(document).ready(function(){return $(document.body).trigger("pageUpdate")}),$(document).on("pjax:end",function(a){return $(a.target).trigger("pageUpdate")})}.call(this),function(a,b){function r(a){this._d=a}function s(a,b){var c=a+"";while(c.length<b)c="0"+c;return c}function t(b,c,d,e){var f=typeof c=="string",g=f?{}:c,h,i,j,k;return f&&e&&(g[c]=+e),h=(g.ms||g.milliseconds||0)+(g.s||g.seconds||0)*1e3+(g.m||g.minutes||0)*6e4+(g.h||g.hours||0)*36e5,i=(g.d||g.days||0)+(g.w||g.weeks||0)*7,j=(g.M||g.months||0)+(g.y||g.years||0)*12,h&&b.setTime(+b+h*d),i&&b.setDate(b.getDate()+i*d),j&&(k=b.getDate(),b.setDate(1),b.setMonth(b.getMonth()+j*d),b.setDate(Math.min((new a(b.getFullYear(),b.getMonth()+1,0)).getDate(),k))),b}function u(a){return Object.prototype.toString.call(a)==="[object Array]"}function v(b){return new a(b[0],b[1]||0,b[2]||1,b[3]||0,b[4]||0,b[5]||0,b[6]||0)}function w(b,d){function u(d){var e,j;switch(d){case"M":return f+1;case"Mo":return f+1+q(f+1);case"MM":return s(f+1,2);case"MMM":return c.monthsShort[f];case"MMMM":return c.months[f];case"D":return g;case"Do":return g+q(g);case"DD":return s(g,2);case"DDD":return e=new a(h,f,g),j=new a(h,0,1),~~((e-j)/864e5+1.5);case"DDDo":return e=u("DDD"),e+q(e);case"DDDD":return s(u("DDD"),3);case"d":return i;case"do":return i+q(i);case"ddd":return c.weekdaysShort[i];case"dddd":return c.weekdays[i];case"w":return e=new a(h,f,g-i+5),j=new a(e.getFullYear(),0,4),~~((e-j)/864e5/7+1.5);case"wo":return e=u("w"),e+q(e);case"ww":return s(u("w"),2);case"YY":return s(h%100,2);case"YYYY":return h;case"a":return m>11?t.pm:t.am;case"A":return m>11?t.PM:t.AM;case"H":return m;case"HH":return s(m,2);case"h":return m%12||12;case"hh":return s(m%12||12,2);case"m":return n;case"mm":return s(n,2);case"s":return o;case"ss":return s(o,2);case"zz":case"z":return(b.toString().match(l)||[""])[0].replace(k,"");case"Z":return(p>0?"+":"-")+s(~~(Math.abs(p)/60),2)+":"+s(~~(Math.abs(p)%60),2);case"ZZ":return(p>0?"+":"-")+s(~~(10*Math.abs(p)/6),4);case"L":case"LL":case"LLL":case"LLLL":case"LT":return w(b,c.longDateFormat[d]);default:return d.replace(/(^\[)|(\\)|\]$/g,"")}}var e=new r(b),f=e.month(),g=e.date(),h=e.year(),i=e.day(),m=e.hours(),n=e.minutes(),o=e.seconds(),p=-e.zone(),q=c.ordinal,t=c.meridiem;return d.replace(j,u)}function x(b,d){function p(a,b){var d;switch(a){case"M":case"MM":e[1]=~~b-1;break;case"MMM":case"MMMM":for(d=0;d<12;d++)if(c.monthsParse[d].test(b)){e[1]=d;break}break;case"D":case"DD":case"DDD":case"DDDD":e[2]=~~b;break;case"YY":b=~~b,e[0]=b+(b>70?1900:2e3);break;case"YYYY":e[0]=~~Math.abs(b);break;case"a":case"A":l=b.toLowerCase()==="pm";break;case"H":case"HH":case"h":case"hh":e[3]=~~b;break;case"m":case"mm":e[4]=~~b;break;case"s":case"ss":e[5]=~~b;break;case"Z":case"ZZ":h=!0,d=(b||"").match(o),d&&d[1]&&(f=~~d[1]),d&&d[2]&&(g=~~d[2]),d&&d[0]==="+"&&(f=-f,g=-g)}}var e=[0,0,1,0,0,0,0],f=0,g=0,h=!1,i=b.match(n),j=d.match(m),k,l;for(k=0;k<j.length;k++)p(j[k],i[k]);return l&&e[3]<12&&(e[3]+=12),l===!1&&e[3]===12&&(e[3]=0),e[3]+=f,e[4]+=g,h?new a(a.UTC.apply({},e)):v(e)}function y(a,b){var c=Math.min(a.length,b.length),d=Math.abs(a.length-b.length),e=0,f;for(f=0;f<c;f++)~~a[f]!==~~b[f]&&e++;return e+d}function z(a,b){var c,d=a.match(n),e=[],f=99,g,h,i;for(g=0;g<b.length;g++)h=x(a,b[g]),i=y(d,w(h,b[g]).match(n)),i<f&&(f=i,c=h);return c}function A(a,b,d){var e=c.relativeTime[a];return typeof e=="function"?e(b||1,!!d,a):e.replace(/%d/i,b||1)}function B(a,b){var c=d(Math.abs(a)/1e3),e=d(c/60),f=d(e/60),g=d(f/24),h=d(g/365),i=c<45&&["s",c]||e===1&&["m"]||e<45&&["mm",e]||f===1&&["h"]||f<22&&["hh",f]||g===1&&["d"]||g<=25&&["dd",g]||g<=45&&["M"]||g<345&&["MM",d(g/30)]||h===1&&["y"]||["yy",h];return i[2]=b,A.apply({},i)}function C(a,b){c.fn[a]=function(a){return a!=null?(this._d["set"+b](a),this):this._d["get"+b]()}}var c,d=Math.round,e={},f=typeof module!="undefined",g="months|monthsShort|monthsParse|weekdays|weekdaysShort|longDateFormat|calendar|relativeTime|ordinal|meridiem".split("|"),h,i=/^\/?Date\((\d+)/i,j=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|dddd?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|zz?|ZZ?|LT|LL?L?L?)/g,k=/[^A-Z]/g,l=/\([A-Za-z ]+\)|:[0-9]{2} [A-Z]{3} /g,m=/(\\)?(MM?M?M?|dd?d?d|DD?D?D?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|ZZ?|T)/g,n=/(\\)?([0-9]+|([a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+|([\+\-]\d\d:?\d\d))/gi,o=/([\+\-]|\d\d)/gi,p="1.4.0",q="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|");c=function(c,d){if(c===null)return null;var e,f;return c&&c._d instanceof a?e=new a(+c._d):d?u(d)?e=z(c,d):e=x(c,d):(f=i.exec(c),e=c===b?new a:f?new a(+f[1]):c instanceof a?c:u(c)?v(c):new a(c)),new r(e)},c.version=p,c.lang=function(a,b){var d,h,i,j=[];if(b){for(d=0;d<12;d++)j[d]=new RegExp("^"+b.months[d]+"|^"+b.monthsShort[d].replace(".",""),"i");b.monthsParse=b.monthsParse||j,e[a]=b}if(e[a])for(d=0;d<g.length;d++)h=g[d],c[h]=e[a][h]||c[h];else f&&(i=require("./lang/"+a),c.lang(a,i))},c.lang("en",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},meridiem:{AM:"AM",am:"am",PM:"PM",pm:"pm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(a){var b=a%10;return~~(a%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th"}}),c.fn=r.prototype={clone:function(){return c(this)},valueOf:function(){return+this._d},"native":function(){return this._d},toString:function(){return this._d.toString()},toDate:function(){return this._d},format:function(a){return w(this._d,a)},add:function(a,b){return this._d=t(this._d,a,1,b),this},subtract:function(a,b){return this._d=t(this._d,a,-1,b),this},diff:function(a,b,e){var f=c(a),g=(this.zone()-f.zone())*6e4,h=this._d-f._d-g,i=this.year()-f.year(),j=this.month()-f.month(),k=this.date()-f.date(),l;return b==="months"?l=i*12+j+k/30:b==="years"?l=i+j/12:l=b==="seconds"?h/1e3:b==="minutes"?h/6e4:b==="hours"?h/36e5:b==="days"?h/864e5:b==="weeks"?h/6048e5:h,e?l:d(l)},from:function(a,b){var d=this.diff(a),e=c.relativeTime,f=B(d,b);return b?f:(d<=0?e.past:e.future).replace(/%s/i,f)},fromNow:function(a){return this.from(c(),a)},calendar:function(){var a=this.diff(c().sod(),"days",!0),b=c.calendar,d=b.sameElse,e=a<-6?d:a<-1?b.lastWeek:a<0?b.lastDay:a<1?b.sameDay:a<2?b.nextDay:a<7?b.nextWeek:d;return this.format(typeof e=="function"?e.apply(this):e)},isLeapYear:function(){var a=this.year();return a%4===0&&a%100!==0||a%400===0},isDST:function(){return this.zone()<c([this.year()]).zone()||this.zone()<c([this.year(),5]).zone()},day:function(a){var b=this._d.getDay();return a==null?b:this.add({d:a-b})},sod:function(){return this.clone().hours(0).minutes(0).seconds(0).milliseconds(0)},eod:function(){return this.sod().add({d:1,ms:-1})}};for(h=0;h<q.length;h++)C(q[h].toLowerCase(),q[h]);C("year","FullYear"),c.fn.zone=function(){return this._d.getTimezoneOffset()},f&&(module.exports=c),typeof window!="undefined"&&(window.moment=c),typeof define=="function"&&define.amd&&define("moment",[],function(){return c})}(Date),function(){var a;a=function(a){var b,c,d,e,f,g,h;a==null&&(a=document),g=$(a).find("time.js-relative-date"),h=[];for(e=0,f=g.length;e<f;e++)c=g[e],(b=moment($(c).attr("datetime"),"YYYY-MM-DDTHH:mm:ssZ"))?(d=b.fromNow(),d==="a few seconds ago"&&(d="just now"),h.push($(c).text(d))):h.push(void 0);return h},$(document).on("pageUpdate",function(b){return a(b.target)}),setInterval(a,6e4)}.call(this),"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\w+/g,function(a){document.createElement(a)}),function(){var a,b,c,d,e=function(a,b){return function(){return a.apply(b,arguments)}};d=this,a=jQuery,a.fn.extend({chosen:function(c,d){return a.browser!=="msie"||a.browser.version!=="6.0"&&a.browser.version!=="7.0"?a(this).each(function(e){if(!a(this).hasClass("chzn-done"))return new b(this,c,d)}):this}}),b=function(){function b(b){this.set_default_values(),this.form_field=b,this.form_field_jq=a(this.form_field),this.is_multiple=this.form_field.multiple,this.is_rtl=this.form_field_jq.hasClass("chzn-rtl"),this.default_text_default=this.form_field.multiple?"Select Some Options":"Select an Option",this.set_up_html(),this.register_observers(),this.form_field_jq.addClass("chzn-done")}return b.prototype.set_default_values=function(){return this.click_test_action=e(function(a){return this.test_active_click(a)},this),this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.choices=0},b.prototype.set_up_html=function(){var b,d,e,f;return this.container_id=this.form_field.id.length?this.form_field.id.replace(/(:|\.)/g,"_"):this.generate_field_id(),this.container_id+="_chzn",this.f_width=this.form_field_jq.width(),this.default_text=this.form_field_jq.data("placeholder")?this.form_field_jq.data("placeholder"):this.default_text_default,b=a("<div />",{id:this.container_id,"class":"chzn-container "+(this.is_rtl?"chzn-rtl":""),style:"width: "+this.f_width+"px;"}),this.is_multiple?b.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop" style="left:-9000px;"><ul class="chzn-results"></ul></div>'):b.html('<a href="javascript:void(0)" class="chzn-single"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop" style="left:-9000px;"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>'),this.form_field_jq.hide().after(b),this.container=a("#"+this.container_id),this.container.addClass("chzn-container-"+(this.is_multiple?"multi":"single")),this.dropdown=this.container.find("div.chzn-drop").first(),d=this.container.height(),e=this.f_width-c(this.dropdown),this.dropdown.css({width:e+"px",top:d+"px"}),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chzn-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-search").first(),this.selected_item=this.container.find(".chzn-single").first(),f=e-c(this.search_container)-c(this.search_field),this.search_field.css({width:f+"px"})),this.results_build(),this.set_tab_index()},b.prototype.register_observers=function(){return this.container.mousedown(e(function(a){return this.container_mousedown(a)},this)),this.container.mouseenter(e(function(a){return this.mouse_enter(a)},this)),this.container.mouseleave(e(function(a){return this.mouse_leave(a)},this)),this.search_results.mouseup(e(function(a){return this.search_results_mouseup(a)},this)),this.search_results.mouseover(e(function(a){return this.search_results_mouseover(a)},this)),this.search_results.mouseout(e(function(a){return this.search_results_mouseout(a)},this)),this.form_field_jq.bind("liszt:updated",e(function(a){return this.results_update_field(a)},this)),this.search_field.blur(e(function(a){return this.input_blur(a)},this)),this.search_field.keyup(e(function(a){return this.keyup_checker(a)},this)),this.search_field.keydown(e(function(a){return this.keydown_checker(a)},this)),this.is_multiple?(this.search_choices.click(e(function(a){return this.choices_click(a)},this)),this.search_field.focus(e(function(a){return this.input_focus(a)},this))):this.selected_item.focus(e(function(a){return this.activate_field(a)},this))},b.prototype.container_mousedown=function(b){return b&&b.type==="mousedown"&&b.stopPropagation(),this.pending_destroy_click?this.pending_destroy_click=!1:(this.active_field?!this.is_multiple&&b&&(a(b.target)===this.selected_item||a(b.target).parents("a.chzn-single").length)&&(b.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),a(document).click(this.click_test_action),this.results_show()),this.activate_field())},b.prototype.mouse_enter=function(){return this.mouse_on_container=!0},b.prototype.mouse_leave=function(){return this.mouse_on_container=!1},b.prototype.input_focus=function(a){if(!this.active_field)return setTimeout(e(function(){return this.container_mousedown()},this),50)},b.prototype.input_blur=function(a){if(!this.mouse_on_container)return this.active_field=!1,setTimeout(e(function(){return this.blur_test()},this),100)},b.prototype.blur_test=function(a){if(!this.active_field&&this.container.hasClass("chzn-container-active"))return this.close_field()},b.prototype.close_field=function(){return a(document).unbind("click",this.click_test_action),this.is_multiple||(this.selected_item.attr("tabindex",this.search_field.attr("tabindex")),this.search_field.attr("tabindex",-1)),this.active_field=!1,this.results_hide(),this.container.removeClass("chzn-container-active"),this.winnow_results_clear(),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},b.prototype.activate_field=function(){return!this.is_multiple&&!this.active_field&&(this.search_field.attr("tabindex",this.selected_item.attr("tabindex")),this.selected_item.attr("tabindex",-1)),this.container.addClass("chzn-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},b.prototype.test_active_click=function(b){return a(b.target).parents("#"+this.container_id).length?this.active_field=!0:this.close_field()},b.prototype.results_build=function(){var a,b,c,e,f,g;c=new Date,this.parsing=!0,this.results_data=d.SelectParser.select_to_array(this.form_field),this.is_multiple&&this.choices>0?(this.search_choices.find("li.search-choice").remove(),this.choices=0):this.is_multiple||this.selected_item.find("span").text(this.default_text),a="",g=this.results_data;for(e=0,f=g.length;e<f;e++)b=g[e],b.group?a+=this.result_add_group(b):b.empty||(a+=this.result_add_option(b),b.selected&&this.is_multiple?this.choice_build(b):b.selected&&!this.is_multiple&&this.selected_item.find("span").text(b.text));return this.show_search_field_default(),this.search_field_scale(),this.search_results.html(a),this.parsing=!1},b.prototype.result_add_group=function(b){return b.disabled?"":(b.dom_id=this.container_id+"_g_"+b.array_index,'<li id="'+b.dom_id+'" class="group-result">'+a("<div />").text(b.label).html()+"</li>")},b.prototype.result_add_option=function(a){var b;return a.disabled?"":(a.dom_id=this.container_id+"_o_"+a.array_index,b=a.selected&&this.is_multiple?[]:["active-result"],a.selected&&b.push("result-selected"),a.group_array_index!=null&&b.push("group-option"),'<li id="'+a.dom_id+'" class="'+b.join(" ")+'">'+a.html+"</li>")},b.prototype.results_update_field=function(){return this.result_clear_highlight(),this.result_single_selected=null,this.results_build()},b.prototype.result_do_highlight=function(a){var b,c,d,e,f;if(a.length){this.result_clear_highlight(),this.result_highlight=a,this.result_highlight.addClass("highlighted"),d=parseInt(this.search_results.css("maxHeight"),10),f=this.search_results.scrollTop(),e=d+f,c=this.result_highlight.position().top+this.search_results.scrollTop(),b=c+this.result_highlight.outerHeight();if(b>=e)return this.search_results.scrollTop(b-d>0?b-d:0);if(c<f)return this.search_results.scrollTop(c)}},b.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},b.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},b.prototype.results_show=function(){var a;return this.is_multiple||(this.selected_item.addClass("chzn-single-with-drop"),this.result_single_selected&&this.result_do_highlight(this.result_single_selected)),a=this.is_multiple?this.container.height():this.container.height()-1,this.dropdown.css({top:a+"px",left:0}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results()},b.prototype.results_hide=function(){return this.is_multiple||this.selected_item.removeClass("chzn-single-with-drop"),this.result_clear_highlight(),this.dropdown.css({left:"-9000px"}),this.results_showing=!1},b.prototype.set_tab_index=function(a){var b;if(this.form_field_jq.attr("tabindex"))return b=this.form_field_jq.attr("tabindex"),this.form_field_jq.attr("tabindex",-1),this.is_multiple?this.search_field.attr("tabindex",b):(this.selected_item.attr("tabindex",b),this.search_field.attr("tabindex",-1))},b.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},b.prototype.search_results_mouseup=function(b){var c;c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first();if(c.length)return this.result_highlight=c,this.result_select(b)},b.prototype.search_results_mouseover=function(b){var c;c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first();if(c)return this.result_do_highlight(c)},b.prototype.search_results_mouseout=function(b){if(a(b.target).hasClass("active-result"))return this.result_clear_highlight()},b.prototype.choices_click=function(b){b.preventDefault();if(this.active_field&&!a(b.target).hasClass("search-choice")&&!this.results_showing)return this.results_show()},b.prototype.choice_build=function(b){var c,d;return c=this.container_id+"_c_"+b.array_index,this.choices+=1,this.search_container.before('<li class="search-choice" id="'+c+'"><span>'+b.html+'</span><a href="javascript:void(0)" class="search-choice-close" rel="'+b.array_index+'"></a></li>'),d=a("#"+c).find("a").first(),d.click(e(function(a){return this.choice_destroy_link_click(a)},this))},b.prototype.choice_destroy_link_click=function(b){return b.preventDefault(),this.pending_destroy_click=!0,this.choice_destroy(a(b.target))},b.prototype.choice_destroy=function(a){return this.choices-=1,this.show_search_field_default(),this.is_multiple&&this.choices>0&&this.search_field.val().length<1&&this.results_hide(),this.result_deselect(a.attr("rel")),a.parents("li").first().remove()},b.prototype.result_select=function(a){var b,c,d,e;if(this.result_highlight)return b=this.result_highlight,c=b.attr("id"),this.result_clear_highlight(),b.addClass("result-selected"),this.is_multiple?this.result_deactivate(b):this.result_single_selected=b,e=c.substr(c.lastIndexOf("_")+1),d=this.results_data[e],d.selected=!0,this.form_field.options[d.options_index].selected=!0,this.is_multiple?this.choice_build(d):this.selected_item.find("span").first().text(d.text),(!a.metaKey||!this.is_multiple)&&this.results_hide(),this.search_field.val(""),this.form_field_jq.trigger("change"),this.search_field_scale()},b.prototype.result_activate=function(a){return a.addClass("active-result").show()},b.prototype.result_deactivate=function(a){return a.removeClass("active-result").hide()},b.prototype.result_deselect=function(b){var c,d;return d=this.results_data[b],d.selected=!1,this.form_field.options[d.options_index].selected=!1,c=a("#"+this.container_id+"_o_"+b),c.removeClass("result-selected").addClass("active-result").show(),this.result_clear_highlight(),this.winnow_results(),this.form_field_jq.trigger("change"),this.search_field_scale()},b.prototype.results_search=function(a){return this.results_showing?this.winnow_results():this.results_show()},b.prototype.winnow_results=function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;j=new Date,this.no_results_clear(),h=0,i=this.search_field.val()===this.default_text?"":a("<div/>").text(a.trim(this.search_field.val())).html(),f=new RegExp("^"+i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),m=new RegExp(i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),r=this.results_data;for(n=0,p=r.length;n<p;n++){c=r[n];if(!c.disabled&&!c.empty)if(c.group)a("#"+c.dom_id).hide();else if(!this.is_multiple||!c.selected){b=!1,g=c.dom_id;if(f.test(c.html))b=!0,h+=1;else if(c.html.indexOf(" ")>=0||c.html.indexOf("[")===0){e=c.html.replace(/\[|\]/g,"").split(" ");if(e.length)for(o=0,q=e.length;o<q;o++)d=e[o],f.test(d)&&(b=!0,h+=1)}b?(i.length?(k=c.html.search(m),l=c.html.substr(0,k+i.length)+"</em>"+c.html.substr(k+i.length),l=l.substr(0,k)+"<em>"+l.substr(k)):l=c.html,a("#"+g).html!==l&&a("#"+g).html(l),this.result_activate(a("#"+g)),c.group_array_index!=null&&a("#"+this.results_data[c.group_array_index].dom_id).show()):(this.result_highlight&&g===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(a("#"+g)))}}return h<1&&i.length?this.no_results(i):this.winnow_results_set_highlight()},b.prototype.winnow_results_clear=function(){var b,c,d,e,f;this.search_field.val(""),c=this.search_results.find("li"),f=[];for(d=0,e=c.length;d<e;d++)b=c[d],b=a(b),f.push(b.hasClass("group-result")?b.show():!this.is_multiple||!b.hasClass("result-selected")?this.result_activate(b):void 0);return f},b.prototype.winnow_results_set_highlight=function(){var a,b;if(!this.result_highlight){b=this.is_multiple?[]:this.search_results.find(".result-selected"),a=b.length?b.first():this.search_results.find(".active-result").first();if(a!=null)return this.result_do_highlight(a)}},b.prototype.no_results=function(b){var c;return c=a('<li class="no-results">No results match "<span></span>"</li>'),c.find("span").first().html(b),this.search_results.append(c)},b.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},b.prototype.keydown_arrow=function(){var b,c;this.result_highlight?this.results_showing&&(c=this.result_highlight.nextAll("li.active-result").first(),c&&this.result_do_highlight(c)):(b=this.search_results.find("li.active-result").first(),b&&this.result_do_highlight(a(b)));if(!this.results_showing)return this.results_show()},b.prototype.keyup_arrow=function(){var a;if(!this.results_showing&&!this.is_multiple)return this.results_show();if(this.result_highlight)return a=this.result_highlight.prevAll("li.active-result"),a.length?this.result_do_highlight(a.first()):(this.choices>0&&this.results_hide(),this.result_clear_highlight())},b.prototype.keydown_backstroke=function(){return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(this.pending_backstroke=this.search_container.siblings("li.search-choice").last(),this.pending_backstroke.addClass("search-choice-focus"))},b.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},b.prototype.keyup_checker=function(a){var b,c;b=(c=a.which)!=null?c:a.keyCode,this.search_field_scale();switch(b){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:a.preventDefault();if(this.results_showing)return this.result_select(a);break;case 27:if(this.results_showing)return this.results_hide();break;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},b.prototype.keydown_checker=function(a){var b,c;b=(c=a.which)!=null?c:a.keyCode,this.search_field_scale(),b!==8&&this.pending_backstroke&&this.clear_backstroke();switch(b){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.mouse_on_container=!1;break;case 13:a.preventDefault();break;case 38:a.preventDefault(),this.keyup_arrow();break;case 40:this.keydown_arrow()}},b.prototype.search_field_scale=function(){var b,c,d,e,f,g,h,i,j;if(this.is_multiple){d=0,h=0,f="position:absolute; left: -1000px; top: -1000px; display:none;",g=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"];for(i=0,j=g.length;i<j;i++)e=g[i],f+=e+":"+this.search_field.css(e)+";";return c=a("<div />",{style:f}),c.text(this.search_field.val()),a("body").append(c),h=c.width()+25,c.remove(),h>this.f_width-10&&(h=this.f_width-10),this.search_field.css({width:h+"px"}),b=this.container.height(),this.dropdown.css({top:b+"px"})}},b.prototype.generate_field_id=function(){var a;return a=this.generate_random_id(),this.form_field.id=a,a},b.prototype.generate_random_id=function(){var b;b="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();while(a("#"+b).length>0)b+=this.generate_random_char();return b},b.prototype.generate_random_char=function(){var a,b,c;return a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZ",c=Math.floor(Math.random()*a.length),b=a.substring(c,c+1)},b}(),c=function(a){var b;return b=a.outerWidth()-a.width()},d.get_side_border_padding=c}.call(this),function(){var a;a=function(){function a(){this.options_index=0,this.parsed=[]}return a.prototype.add_node=function(a){return a.nodeName==="OPTGROUP"?this.add_group(a):this.add_option(a)},a.prototype.add_group=function(a){var b,c,d,e,f,g;b=this.parsed.length,this.parsed.push({array_index:b,group:!0,label:a.label,children:0,disabled:a.disabled}),f=a.childNodes,g=[];for(d=0,e=f.length;d<e;d++)c=f[d],g.push(this.add_option(c,b,a.disabled));return g},a.prototype.add_option=function(a,b,c){if(a.nodeName==="OPTION")return a.text!==""?(b!=null&&(this.parsed[b].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:a.value,text:a.text,html:a.innerHTML,selected:a.selected,disabled:c===!0?c:a.disabled,group_array_index:b})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},a}(),a.select_to_array=function(b){var c,d,e,f,g;d=new a,g=b.childNodes;for(e=0,f=g.length;e<f;e++)c=g[e],d.add_node(c);return d.parsed},this.SelectParser=a}.call(this),jQuery.cookie=function(a,b,c){if(typeof b=="undefined"){var i=null;if(document.cookie&&document.cookie!=""){var j=document.cookie.split(";");for(var k=0;k<j.length;k++){var l=jQuery.trim(j[k]);if(l.substring(0,a.length+1)==a+"="){i=decodeURIComponent(l.substring(a.length+1));break}}}return i}c=c||{},b===null&&(b="",c.expires=-1);var d="";if(c.expires&&(typeof c.expires=="number"||c.expires.toUTCString)){var e;typeof c.expires=="number"?(e=new Date,e.setTime(e.getTime()+c.expires*24*60*60*1e3)):e=c.expires,d="; expires="+e.toUTCString()}var f=c.path?"; path="+c.path:"",g=c.domain?"; domain="+c.domain:"",h=c.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(b),d,f,g,h].join("")},function(a){a.fn.enhancedField=function(b){var c=a.extend({},a.fn.enhancedField.defaults,b),d="placeholder"in document.createElement("input");return this.each(function(){var b=a(this);d||b.addClass("notnative"),b.bind("blur keyup",function(){a(this).val()==""?a(this).addClass("placeholder"):a(this).removeClass("placeholder")}).blur(),b.focus(function(){a(this).removeClass("placeholder")})})},a.fn.enhancedField.defaults={}}(jQuery),function(a){function b(b){if(a.facebox.settings.inited)return!0;a.facebox.settings.inited=!0,a(document).trigger("init.facebox"),e();var c=a.facebox.settings.imageTypes.join("|");a.facebox.settings.imageTypesRegexp=new RegExp(".("+c+")$","i"),b&&a.extend(a.facebox.settings,b),a("body").append(a.facebox.settings.faceboxHtml);var d=[new Image,new Image];d[0].src=a.facebox.settings.closeImage,d[1].src=a.facebox.settings.loadingImage,a("#facebox").find(".b:first, .bl").each(function(){d.push(new Image),d.slice(-1).src=a(this).css("background-image").replace(/url\((.+)\)/,"$1")}),a("#facebox .close").click(a.facebox.close).append('<img src="'+a.facebox.settings.closeImage+'" class="close_image" title="close">'
)}function c(){var a,b;return self.pageYOffset?(b=self.pageYOffset,a=self.pageXOffset):document.documentElement&&document.documentElement.scrollTop?(b=document.documentElement.scrollTop,a=document.documentElement.scrollLeft):document.body&&(b=document.body.scrollTop,a=document.body.scrollLeft),new Array(a,b)}function d(){var a;return self.innerHeight?a=self.innerHeight:document.documentElement&&document.documentElement.clientHeight?a=document.documentElement.clientHeight:document.body&&(a=document.body.clientHeight),a}function e(){var b=a.facebox.settings;b.loadingImage=b.loading_image||b.loadingImage,b.closeImage=b.close_image||b.closeImage,b.imageTypes=b.image_types||b.imageTypes,b.faceboxHtml=b.facebox_html||b.faceboxHtml}function f(b,c){if(b.match(/#/)){var d=window.location.href.split("#")[0],e=b.replace(d,"");if(e=="#")return;a.facebox.reveal(a(e).html(),c)}else b.match(a.facebox.settings.imageTypesRegexp)?g(b,c):h(b,c)}function g(b,c){var d=new Image;d.onload=function(){a.facebox.reveal('<div class="image"><img src="'+d.src+'" /></div>',c)},d.src=b}function h(b,c){a.get(b,function(b){a.facebox.reveal(b,c)})}function i(){return a.facebox.settings.overlay==0||a.facebox.settings.opacity===null}function j(){if(i())return;return a("#facebox_overlay").length==0&&a("body").append('<div id="facebox_overlay" class="facebox_hide"></div>'),a("#facebox_overlay").hide().addClass("facebox_overlayBG").css("opacity",a.facebox.settings.opacity).click(function(){a(document).trigger("close.facebox")}).fadeIn(200),!1}function k(){if(i())return;return a("#facebox_overlay").fadeOut(200,function(){a("#facebox_overlay").removeClass("facebox_overlayBG"),a("#facebox_overlay").addClass("facebox_hide"),a("#facebox_overlay").remove()}),!1}a.facebox=function(b,c){a.facebox.loading(),b.ajax?h(b.ajax,c):b.image?g(b.image,c):b.div?f(b.div,c):a.isFunction(b)?b.call(a):a.facebox.reveal(b,c)},a.extend(a.facebox,{settings:{opacity:.2,overlay:!0,loadingImage:"/facebox/loading.gif",closeImage:"/facebox/closelabel.png",imageTypes:["png","jpg","jpeg","gif"],faceboxHtml:'    <div id="facebox" style="display:none;">       <div class="popup">         <div class="content">         </div>         <a href="#" class="close"></a>       </div>     </div>'},loading:function(){b();if(a("#facebox .loading").length==1)return!0;j(),a("#facebox .content").empty().append('<div class="loading"><img src="'+a.facebox.settings.loadingImage+'"/></div>'),a("#facebox").show().css({top:c()[1]+d()/10,left:a(window).width()/2-a("#facebox .popup").outerWidth()/2}),a(document).bind("keydown.facebox",function(b){return b.keyCode==27&&a.facebox.close(),!0}),a(document).trigger("loading.facebox")},reveal:function(b,c){a(document).trigger("beforeReveal.facebox"),c&&a("#facebox .content").addClass(c),a("#facebox .content").append(b),a("#facebox .loading").remove(),a("#facebox .popup").children().fadeIn("normal"),a("#facebox").css("left",a(window).width()/2-a("#facebox .popup").outerWidth()/2),a(document).trigger("reveal.facebox").trigger("afterReveal.facebox")},close:function(){return a(document).trigger("close.facebox"),!1}}),a.fn.facebox=function(c){function d(){a.facebox.loading(!0);var b=this.rel.match(/facebox\[?\.(\w+)\]?/);return b&&(b=b[1]),f(this.href,b),!1}if(a(this).length==0)return;return b(c),this.bind("click.facebox",d)},a(document).bind("close.facebox",function(){a(document).unbind("keydown.facebox"),a("#facebox").fadeOut(function(){a("#facebox .content").removeClass().addClass("content"),a("#facebox .loading").remove(),a(document).trigger("afterClose.facebox")}),k()})}(jQuery),function($){function clickHandler(a){var b=this.form;b.clk=this;if(this.type=="image")if(a.offsetX!=undefined)b.clk_x=a.offsetX,b.clk_y=a.offsetY;else if(typeof $.fn.offset=="function"){var c=$(this).offset();b.clk_x=a.pageX-c.left,b.clk_y=a.pageY-c.top}else b.clk_x=a.pageX-this.offsetLeft,b.clk_y=a.pageY-this.offsetTop;setTimeout(function(){b.clk=b.clk_x=b.clk_y=null},10)}function submitHandler(){var a=this.formPluginId,b=$.fn.ajaxForm.optionHash[a];return $(this).ajaxSubmit(b),!1}$.fn.ajaxSubmit=function(options){function fileUpload(){function cb(){if(cbInvoked++)return;io.detachEvent?io.detachEvent("onload",cb):io.removeEventListener("load",cb,!1);var ok=!0;try{if(timedOut)throw"timeout";var data,doc;doc=io.contentWindow?io.contentWindow.document:io.contentDocument?io.contentDocument:io.document,xhr.responseText=doc.body?doc.body.innerHTML:null,xhr.responseXML=doc.XMLDocument?doc.XMLDocument:doc;if(opts.dataType=="json"||opts.dataType=="script"){var ta=doc.getElementsByTagName("textarea")[0];data=ta?ta.value:xhr.responseText,opts.dataType=="json"?eval("data = "+data):$.globalEval(data)}else opts.dataType=="xml"?(data=xhr.responseXML,!data&&xhr.responseText!=null&&(data=toXml(xhr.responseText))):data=xhr.responseText}catch(e){ok=!1,$.handleError(opts,xhr,"error",e)}ok&&(opts.success(data,"success"),g&&$.event.trigger("ajaxSuccess",[xhr,opts])),g&&$.event.trigger("ajaxComplete",[xhr,opts]),g&&!--$.active&&$.event.trigger("ajaxStop"),opts.complete&&opts.complete(xhr,ok?"success":"error"),setTimeout(function(){$io.remove(),xhr.responseXML=null},100)}function toXml(a,b){return window.ActiveXObject?(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)):b=(new DOMParser).parseFromString(a,"text/xml"),b&&b.documentElement&&b.documentElement.tagName!="parsererror"?b:null}var form=$form[0],opts=$.extend({},$.ajaxSettings,options),id="jqFormIO"+$.fn.ajaxSubmit.counter++,$io=$('<iframe id="'+id+'" name="'+id+'" />'),io=$io[0],op8=$.browser.opera&&window.opera.version()<9;if($.browser.msie||op8)io.src='javascript:false;document.write("");';$io.css({position:"absolute",top:"-1000px",left:"-1000px"});var xhr={responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){}},g=opts.global;g&&!($.active++)&&$.event.trigger("ajaxStart"),g&&$.event.trigger("ajaxSend",[xhr,opts]);var cbInvoked=0,timedOut=0;setTimeout(function(){var a=form.encoding?"encoding":"enctype",b=$form.attr("target"),c=$form.attr("action");$form.attr({target:id,method:"POST",action:opts.url}),form[a]="multipart/form-data",opts.timeout&&setTimeout(function(){timedOut=!0,cb()},opts.timeout),$io.appendTo("body"),io.attachEvent?io.attachEvent("onload",cb):io.addEventListener("load",cb,!1),form.submit(),$form.attr({action:c,target:b})},10)}typeof options=="function"&&(options={success:options}),options=$.extend({url:this.attr("action")||window.location.toString(),type:this.attr("method")||"GET"},options||{});var veto={};$.event.trigger("form.pre.serialize",[this,options,veto]);if(veto.veto)return this;var a=this.formToArray(options.semantic);if(options.data)for(var n in options.data)a.push({name:n,value:options.data[n]});if(options.beforeSubmit&&options.beforeSubmit(a,this,options)===!1)return this;$.event.trigger("form.submit.validate",[a,this,options,veto]);if(veto.veto)return this;var q=$.param(a);options.type.toUpperCase()=="GET"?(options.url+=(options.url.indexOf("?")>=0?"&":"?")+q,options.data=null):options.data=q;var $form=this,callbacks=[];options.resetForm&&callbacks.push(function(){$form.resetForm()}),options.clearForm&&callbacks.push(function(){$form.clearForm()});if(!options.dataType&&options.target){var oldSuccess=options.success||function(){};callbacks.push(function(a){this.evalScripts?$(options.target).attr("innerHTML",a).evalScripts().each(oldSuccess,arguments):$(options.target).html(a).each(oldSuccess,arguments)})}else options.success&&callbacks.push(options.success);options.success=function(a,b){for(var c=0,d=callbacks.length;c<d;c++)callbacks[c](a,b,$form)};var files=$("input:file",this).fieldValue(),found=!1;for(var j=0;j<files.length;j++)files[j]&&(found=!0);return options.iframe||found?$.browser.safari&&options.closeKeepAlive?$.get(options.closeKeepAlive,fileUpload):fileUpload():$.ajax(options),$.event.trigger("form.submit.notify",[this,options]),this},$.fn.ajaxSubmit.counter=0,$.fn.ajaxForm=function(a){return this.ajaxFormUnbind().submit(submitHandler).each(function(){this.formPluginId=$.fn.ajaxForm.counter++,$.fn.ajaxForm.optionHash[this.formPluginId]=a,$(":submit,input:image",this).click(clickHandler)})},$.fn.ajaxForm.counter=1,$.fn.ajaxForm.optionHash={},$.fn.ajaxFormUnbind=function(){return this.unbind("submit",submitHandler),this.each(function(){$(":submit,input:image",this).unbind("click",clickHandler)})},$.fn.formToArray=function(a){var b=[];if(this.length==0)return b;var c=this[0],d=a?c.getElementsByTagName("*"):c.elements;if(!d)return b;for(var e=0,f=d.length;e<f;e++){var g=d[e],h=g.name;if(!h)continue;if(a&&c.clk&&g.type=="image"){!g.disabled&&c.clk==g&&b.push({name:h+".x",value:c.clk_x},{name:h+".y",value:c.clk_y});continue}var i=$.fieldValue(g,!0);if(i&&i.constructor==Array)for(var j=0,k=i.length;j<k;j++)b.push({name:h,value:i[j]});else i!==null&&typeof i!="undefined"&&b.push({name:h,value:i})}if(!a&&c.clk){var l=c.getElementsByTagName("input");for(var e=0,f=l.length;e<f;e++){var m=l[e],h=m.name;h&&!m.disabled&&m.type=="image"&&c.clk==m&&b.push({name:h+".x",value:c.clk_x},{name:h+".y",value:c.clk_y})}}return b},$.fn.formSerialize=function(a){return $.param(this.formToArray(a))},$.fn.fieldSerialize=function(a){var b=[];return this.each(function(){var c=this.name;if(!c)return;var d=$.fieldValue(this,a);if(d&&d.constructor==Array)for(var e=0,f=d.length;e<f;e++)b.push({name:c,value:d[e]});else d!==null&&typeof d!="undefined"&&b.push({name:this.name,value:d})}),$.param(b)},$.fn.fieldValue=function(a){for(var b=[],c=0,d=this.length;c<d;c++){var e=this[c],f=$.fieldValue(e,a);if(f===null||typeof f=="undefined"||f.constructor==Array&&!f.length)continue;f.constructor==Array?$.merge(b,f):b.push(f)}return b},$.fieldValue=function(a,b){var c=a.name,d=a.type,e=a.tagName.toLowerCase();typeof b=="undefined"&&(b=!0);if(b&&(!c||a.disabled||d=="reset"||d=="button"||(d=="checkbox"||d=="radio")&&!a.checked||(d=="submit"||d=="image")&&a.form&&a.form.clk!=a||e=="select"&&a.selectedIndex==-1))return null;if(e=="select"){var f=a.selectedIndex;if(f<0)return null;var g=[],h=a.options,i=d=="select-one",j=i?f+1:h.length;for(var k=i?f:0;k<j;k++){var l=h[k];if(l.selected){var m=$.browser.msie&&!l.attributes.value.specified?l.text:l.value;if(i)return m;g.push(m)}}return g}return a.value},$.fn.clearForm=function(){return this.each(function(){$("input,select,textarea",this).clearFields()})},$.fn.clearFields=$.fn.clearInputs=function(){return this.each(function(){var a=this.type,b=this.tagName.toLowerCase();a=="text"||a=="password"||b=="textarea"?this.value="":a=="checkbox"||a=="radio"?this.checked=!1:b=="select"&&(this.selectedIndex=-1)})},$.fn.resetForm=function(){return this.each(function(){(typeof this.reset=="function"||typeof this.reset=="object"&&!this.reset.nodeType)&&this.reset()})},$.fn.enable=function(a){return a==undefined&&(a=!0),this.each(function(){this.disabled=!a})},$.fn.select=function(a){return a==undefined&&(a=!0),this.each(function(){var b=this.type;if(b=="checkbox"||b=="radio")this.checked=a;else if(this.tagName.toLowerCase()=="option"){var c=$(this).parent("select");a&&c[0]&&c[0].type=="select-one"&&c.find("option").select(!1),this.selected=a}})}}(jQuery),function(a){a.fn.editableComment=function(){a(this).delegate(".comment .edit-button","click",function(b){var c=a(this).closest(".comment");return c.addClass("editing"),!1}),a(this).delegate(".comment .delete-button","click",function(b){var c=a(this).closest(".comment"),d=a(this).closest(".js-comment-container");return d.length||(d=c),confirm("Are you sure you want to delete this?")&&(c.addClass("loading"),c.find("button").attr("disabled",!0),c.find(".minibutton").addClass("disabled"),a.ajax({type:"DELETE",url:c.find(".form-content form").attr("action"),context:d,complete:function(){c.removeClass("loading"),c.find("button").removeAttr("disabled"),c.find(".minibutton").removeClass("disabled")},success:function(){c.removeClass("error"),d.fadeOut(function(){c.removeClass("editing"),d.trigger("pageUpdate")})},error:function(){c.addClass("error")}})),!1}),a(this).delegate(".comment .cancel","click",function(){return a(this).closest(".comment").removeClass("editing"),!1}),a(this).delegate(".comment .form-content form","submit",function(){var b=a(this).closest(".comment"),c=a(this).closest(".js-comment-container");return c.length||(c=b),b.addClass("loading"),b.find("button").attr("disabled",!0),b.find(".minibutton").addClass("disabled"),a.ajax({type:"PUT",url:b.find(".form-content form").attr("action"),dataType:"json",data:a(this).serialize(),context:c,complete:function(){b.removeClass("loading"),b.find("button").removeAttr("disabled"),b.find(".minibutton").removeClass("disabled")},success:function(a){b.removeClass("error"),a.title&&b.find(".content-title").html(a.title),b.find(".formatted-content .content-body").html(a.body),b.removeClass("editing"),c.trigger("pageUpdate")},error:function(){b.addClass("error")}}),!1})}}(jQuery),function(a){a.fn.previewableCommentForm=function(b){var c=a.extend({},a.fn.previewableCommentForm.defaults,b);return this.each(function(){var b=a(this);if(b.hasClass("previewable-comment-form-attached"))return;b.addClass("previewable-comment-form-attached");var d=b.find("textarea"),e=b.find(".content-body"),f=b.prev(".comment-form-error"),g=b.find(".form-actions button"),h=d.val(),i=b.attr("data-repository"),j=!1,k=null,l=a.merge(b.find(".preview-dirty"),d);l.blur(function(){h!=d.val()&&(j=!0,h=d.val()),m()});var m=function(){if(!j)return;if(a.trim(h)==""){e.html("<p>Nothing to preview</p>");return}e.html("<p>Loading preview&hellip;</p>"),k&&k.abort();var b=a.extend({text:h,repository:i},c.previewOptions);k=a.post(c.previewUrl,b,function(a){e.html(a),c.onSuccess.call(e)})};a.trim(h)==""&&e.html("<p>Nothing to preview</p>"),f.length>0&&b.closest("form").submit(function(){f.hide();if(a.trim(d.val())=="")return f.show(),!1;g.attr("disabled","disabled")})})},a.fn.previewableCommentForm.defaults={previewUrl:"/preview",previewOptions:{},onSuccess:function(){}}}(jQuery),function(){var a,b,c,d,e,f,g,h,i;a=jQuery,d={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",91:"meta",93:"meta",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},f={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},b=function(a){var b,c,e;return a.type==="keypress"?b=String.fromCharCode(a.which):b=d[a.which],c="",a.ctrlKey&&b!=="ctrl"&&(c+="ctrl+"),a.altKey&&b!=="alt"&&(c+="alt+"),a.metaKey&&!a.ctrlKey&&b!=="meta"&&(c+="meta+"),a.shiftKey?a.type==="keypress"?""+c+b:(e=f[a.which])?""+c+e:b==="shift"?""+c+"shift":b?""+c+"shift+"+b:null:b?""+c+b:null},i=["keydown","keyup","keypress"];for(g=0,h=i.length;g<h;g++)e=i[g],a.event.special[e]={add:function(a){var c;return c=a.handler,a.handler=function(a){return a.hotkey==null&&(a.hotkey=b(a)),c.apply(this,arguments)}}};c={},a(document).bind("keydown",function(b){var d;if(a(b.target).is(":input"))return;if(d=c[b.hotkey])return d.apply(this,arguments)}),a.hotkeys=function(b){var c,d;for(c in b)d=b[c],a.hotkey(c,d);return this},a.hotkey=function(a,b){return c[a]=b,this}}.call(this),jQuery.fn.tabs=function(){var a=function(a){return/#([a-z][\w.:-]*)$/i.exec(a)[1]},b=window.location.hash.substr(1);return this.each(function(){var c=null,d=null;$(this).find("li a").each(function(){var b=$("#"+a(this.href));if(b==[])return;b.hide(),$(this).click(function(){var a=$(this),e=function(){d&&d.hide(),c&&c.removeClass("selected"),c=a.addClass("selected"),d=b.show().trigger("tabChanged",{link:c})};return a.attr("ajax")?(a.addClass("loading"),$.ajax({url:a.attr("ajax"),success:function(c){b.html(c),a.removeClass("loading"),a[0].removeAttribute("ajax"),e()},failure:function(a){alert("An error occured, please reload the page")}})):e(),!1}),$(this).hasClass("selected")&&$(this).click()}),$(this).find("li a[href='#"+b+"']").click(),d==null&&$($(this).find("li a")[0]).click()})},window.GitHub={},$(function(){function c(){$(".file-contents").length<2&&$(".file .remove-button").hide()}$("ul.inline-tabs").tabs(),$(".previewable-comment-form").previewableCommentForm();var a=function(a){$(a).find(".js-language-picker").chosen(),$(a).each(function(){var a=$(this).find("input.gist-name-textbox").enhancedField(),b=$(this).find(".gist-lang-desc"),c=$(this).find(".gist-lang"),d=function(){a.val()==""?(b.hide(),c.show()):(b.show(),c.hide())};d(),a.keyup(d)})};a(".file"),$(document).on("click",".chzn-single",function(){return!1});var b=$(".topsearch input[name=q]").enhancedField();$.hotkey("s",function(){b.val("").focus()}),$(document).delegate(".file .remove-button","click",function(){var a=$(this).closest(".file");return a.append('<p class="removed">file removed</p>'),a.find(".input:first").remove(),c(),!1}),$(document).delegate(".meta .description a.edit","click",function(){var a=$(this),b=$(a.attr("href")),c=a.prev();return a.hide(),b.hide(),c.show().find("input[type=text]").focus(),!1}),$(document).delegate(".meta .description form","submit",function(){var a=$(this);return a.ajaxSubmit(),$("#description").text(a.find("input[type=text]").val()),a.closest(".description").find(":hidden").show(),a.hide(),!1});var d=function(a,b){var c=$(a).parent().parent().parent().find(".line"),d=c.css("font-size");d=parseInt(d.replace(/\D/,""))+b,d=Math.min(d,20),d=Math.max(d,5),c.css("font-size",d)};$(".increase-font-size").click(function(){d(this,1)}),$(".decrease-font-size").click(function(){d(this,-1)}),$("#add-gist").click(function(){var b=$(".file").size()+1;if(b>10)return alert("Too many files. Please remove some (or consider creating a GitHub repository.)"),!1;var c="new"+b;return $("#files").append('<div id="'+c+'"></div>'),$("#"+c).load("https://gist.github.com/",{index:b},function(){a("#"+c)}),!1}),$("#private-clone-url > a").bind("contextmenu",function(){var a=$(this).text().length;return $(this).hide().next().attr("size",a).show().focus().get(0).select(),!1});var e=function(){$(this).hide().prev().show()};$("#private-clone-url > :input").mouseout(e).blur(e),$(".git_url_facebox").click(function(){return $.facebox($($(this).attr("rel")).html(),"tip"),!1}),$(".gist-embed-link").each(function(){var a=$(this),b=a.next(".gist-embed-box"),c=function(){return a.toggle(),b.toggle(),b.is(":visible")&&b.get(0).select(),!1};a.click(c),b.blur(c)}),$.facebox&&$("a[rel*=facebox]").facebox()}),$(function(){$("button.classy, a.button.classy").mousedown(function(){$(this).addClass("mousedown")}).bind("mouseup mouseleave",function(){$(this).removeClass("mousedown")}),$(document).editableComment()}),$.extend($.facebox.settings,{loadingImage:"https://a248.e.akamai.net/assets.github.com/images/spinners/octocat-spinner-32.gif",closeImage:"https://a248.e.akamai.net/assets.github.com/images/modules/facebox/closelabel.png"}),function(){var a,b;window._gaq==null&&(window._gaq=[]),_gaq.push(["_setAccount","UA-3769691-4"]),_gaq.push(["_setDomainName","none"]),_gaq.push(["_trackPageview"]),_gaq.push(["_trackPageLoadTime"]),a=document.createElement("script"),a.type="text/javascript",a.async=!0,b=document.location.protocol==="https:"?"https://ssl":"http://www",a.src=""+b+".google-analytics.com/ga.js",document.getElementsByTagName("head")[0].appendChild(a)}.call(this),$(function(){var a=$.cookie("tracker"),b=null;a==null&&(b=document.referrer?document.referrer:"direct");var c=getParams();c.utm_campaign&&$.trim(c.utm_campaign)!=""&&(b=c.utm_campaign),c.referral_code&&$.trim(c.referral_code)!=""&&(b=c.referral_code),b!=null&&$.cookie("tracker",b,{expires:7,path:"/"})})